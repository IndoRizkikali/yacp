--- origsrc/libp11-libp11-0.4.8/src/Makefile.am	2018-08-06 03:53:28.000000000 +0900
+++ src/libp11-libp11-0.4.8/src/Makefile.am	2018-08-24 23:30:15.096787200 +0900
@@ -22,7 +22,7 @@ dist_noinst_DATA = libp11.rc
 endif
 libp11_la_CFLAGS = $(AM_CFLAGS) $(OPENSSL_CFLAGS)
 libp11_la_LIBADD = $(OPENSSL_LIBS)
-libp11_la_LDFLAGS = $(AM_LDFLAGS) \
+libp11_la_LDFLAGS = $(AM_LDFLAGS) -no-undefined \
 	-version-info @LIBP11_LT_CURRENT@:@LIBP11_LT_REVISION@:@LIBP11_LT_AGE@
 
 if HAVE_LD_VERSION_SCRIPT
@@ -46,7 +46,7 @@ pkcs11_la_LIBADD = $(libp11_la_OBJECTS)
 
 # We intentionally not version symbols in this module because no
 # application links with it. It is dynamically opened.
-pkcs11_la_LDFLAGS = $(AM_LDFLAGS) -module -shared -shrext $(SHARED_EXT) \
+pkcs11_la_LDFLAGS = $(AM_LDFLAGS) -no-undefined -module -shared -shrext $(SHARED_EXT) \
 	-avoid-version -export-symbols "$(srcdir)/pkcs11.exports"
 
 # OpenSSL older than 1.1.0 expected libpkcs11.so instead of pkcs11.so
--- origsrc/libp11-libp11-0.4.8/src/libp11.rc	2018-08-06 03:53:28.000000000 +0900
+++ src/libp11-libp11-0.4.8/src/libp11.rc	2018-08-24 23:32:01.143599700 +0900
@@ -1,7 +1,7 @@
 #include <winresrc.h>
 
 VS_VERSION_INFO VERSIONINFO
-	FILEVERSION 7,4,0,0
+	FILEVERSION 7,5,0,0
 	PRODUCTVERSION 0,4,8,0
 	FILEFLAGSMASK 0x3fL
 #ifdef _DEBUG
@@ -20,11 +20,11 @@ BEGIN
 			VALUE "Comments", "Provided under the terms of the GNU General Public License (LGPLv2.1+).\0"
 			VALUE "CompanyName", "OpenSC Project\0"
 			VALUE "FileDescription", "PKCS#11 access library\0"
-			VALUE "FileVersion", "7.4.0.0\0"
+			VALUE "FileVersion", "7.5.0.0\0"
 			VALUE "InternalName", "libp11\0"
 			VALUE "LegalCopyright", "OpenSC Project\0"
 			VALUE "LegalTrademarks", "\0"
-			VALUE "OriginalFilename", "libp11-3.dll\0"
+			VALUE "OriginalFilename", "libp11-2.dll\0"
 			VALUE "PrivateBuild", "\0"
 			VALUE "ProductName", "libp11\0"
 			VALUE "ProductVersion", "0,4,8,0\0"
