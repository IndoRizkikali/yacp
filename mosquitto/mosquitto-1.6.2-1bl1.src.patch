--- origsrc/mosquitto-1.6.2/CMakeLists.txt	2019-04-30 22:34:20.000000000 +0900
+++ src/mosquitto-1.6.2/CMakeLists.txt	2019-05-02 17:45:54.045895300 +0900
@@ -100,7 +100,7 @@ endif (DOCUMENTATION)
 # Install config file
 # ========================================
 
-install(FILES mosquitto.conf aclfile.example pskfile.example pwfile.example DESTINATION "${CMAKE_INSTALL_SYSCONFDIR}/mosquitto")
+install(FILES mosquitto.conf aclfile.example pskfile.example pwfile.example DESTINATION "/etc/mosquitto")
 
 
 # ========================================
@@ -108,9 +108,9 @@ install(FILES mosquitto.conf aclfile.exa
 # ========================================
 
 configure_file(libmosquitto.pc.in libmosquitto.pc @ONLY)
-install(FILES "${CMAKE_CURRENT_BINARY_DIR}/libmosquitto.pc" DESTINATION "${CMAKE_INSTALL_PREFIX}/share/pkgconfig")
+install(FILES "${CMAKE_CURRENT_BINARY_DIR}/libmosquitto.pc" DESTINATION "${CMAKE_INSTALL_PREFIX}/lib/pkgconfig")
 configure_file(libmosquittopp.pc.in libmosquittopp.pc @ONLY)
-install(FILES "${CMAKE_CURRENT_BINARY_DIR}/libmosquittopp.pc" DESTINATION "${CMAKE_INSTALL_PREFIX}/share/pkgconfig")
+install(FILES "${CMAKE_CURRENT_BINARY_DIR}/libmosquittopp.pc" DESTINATION "${CMAKE_INSTALL_PREFIX}/lib/pkgconfig")
 
 # ========================================
 # Testing
--- origsrc/mosquitto-1.6.2/lib/CMakeLists.txt	2019-04-30 22:34:20.000000000 +0900
+++ src/mosquitto-1.6.2/lib/CMakeLists.txt	2019-05-02 17:25:03.013078500 +0900
@@ -89,7 +89,7 @@ set_target_properties(libmosquitto PROPE
 	SOVERSION 1
 )
 
-install(TARGETS libmosquitto RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}" LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}")
+install(TARGETS libmosquitto RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}" ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}")
 
 if (WITH_STATIC_LIBRARIES)
 	add_library(libmosquitto_static STATIC ${C_SRC})
--- origsrc/mosquitto-1.6.2/lib/cpp/CMakeLists.txt	2019-04-30 22:34:20.000000000 +0900
+++ src/mosquitto-1.6.2/lib/cpp/CMakeLists.txt	2019-05-02 17:25:35.758549200 +0900
@@ -13,7 +13,7 @@ set_target_properties(mosquittopp PROPER
 	VERSION ${VERSION}
 	SOVERSION 1
 )
-install(TARGETS mosquittopp RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}" LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}")
+install(TARGETS mosquittopp RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}" ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}")
 
 if (WITH_STATIC_LIBRARIES)
 	add_library(mosquittopp_static STATIC
--- origsrc/mosquitto-1.6.2/lib/util_mosq.c	2019-04-30 22:34:20.000000000 +0900
+++ src/mosquitto-1.6.2/lib/util_mosq.c	2019-05-02 17:32:14.582002200 +0900
@@ -325,10 +325,12 @@ int util__random_bytes(void *bytes, int
 	if(RAND_bytes(bytes, count) == 1){
 		rc = MOSQ_ERR_SUCCESS;
 	}
-#elif defined(__GLIBC__) && __GLIBC_PREREQ(2, 25)
+#elif defined(__GLIBC__)
+#if __GLIBC_PREREQ(2, 25)
 	if(getrandom(bytes, count, 0) == 0){
 		rc = MOSQ_ERR_SUCCESS;
 	}
+#endif
 #elif defined(WIN32)
 	HRYPTPROV provider;
 
--- origsrc/mosquitto-1.6.2/src/mosquitto_broker_internal.h	2019-04-30 22:34:20.000000000 +0900
+++ src/mosquitto-1.6.2/src/mosquitto_broker_internal.h	2019-05-02 17:26:00.695596800 +0900
@@ -714,7 +714,7 @@ void session_expiry__send_all(struct mos
 /* ============================================================
  * Window service and signal related functions
  * ============================================================ */
-#if defined(WIN32) || defined(__CYGWIN__)
+#if defined(WIN32)
 void service_install(void);
 void service_uninstall(void);
 void service_run(void);
